window.onload = function () {
    const txtFileURL = "https://raw.githubusercontent.com/toanpremium/English_1000Cumtu/main/1000_cumtu.txt"; // URL đúng từ GitHub

    fetch(txtFileURL)
        .then(response => {
            if (!response.ok) {
                throw new Error("Không thể tải dữ liệu từ file. Vui lòng kiểm tra URL.");
            }
            return response.text();
        })
        .then(fileContent => {
            // Xử lý nội dung file
            data = fileContent.split('\n')
                .map(line => line.trim())
                .filter(line => line.includes(' /'))
                .map(line => line.split(' /'));

            if (data.length === 0) {
                alert("File không có dữ liệu hợp lệ. Vui lòng kiểm tra định dạng!");
                return;
            }

            getRandomQuestion(); // Sau khi đọc file, lấy câu hỏi ngẫu nhiên
        })
        .catch(error => {
            console.error("Lỗi:", error);
            alert("Không thể tải file. Kiểm tra lại đường dẫn hoặc file trên GitHub.");
        });
};
